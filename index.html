<!DOCTYPE html> 
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Plan your next trip with a quick look at the weather for popular vacation destinations." />
  <title>Vacation Weather Planner</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Slab&family=Open+Sans&display=swap" rel="stylesheet">
</head>

<body>
  <header class="header">
    <div class="header__container">
      <h1 class="header__title">Vacation Weather Planner</h1>
      <nav class="nav">
        <button class="nav__toggle" aria-label="Toggle Menu">☰</button>
        <ul class="nav__list">
          <li class="nav__item"><a class="nav__link" href="index.html">Home</a></li>
          <li class="nav__item"><a class="nav__link" href="popular.html">Popular Destinations</a></li>
          <li class="nav__item"><a class="nav__link" href="weather.html">Weather</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="main">

    <section class="hero">
      <h2 class="hero__title">Plan Your Next Getaway</h2>
      <img src="images/destinationcollage.jpg" alt="Collage of popular travel destinations" class="hero__img">
      <p class="hero__text">
        Check the forecast for top travel spots like Paris, New York, Tokyo, London, and more before you commit to a trip.
        Use this site to explore popular destinations and make sure the weather matches your vacation plans.
      </p>
    </section>

    <!-- SEARCH SECTION -->
    <section class="home-search">
      <h2 class="home-search__title">Search for a Destination</h2>
      <p class="home-search__text">
        Start with a city or country you’re thinking about, then double-check the forecast before you book your trip.
      </p>

      <form id="destination-search" class="home-search__form">
        <label class="home-search__label" for="search-input">Destination</label>
        <input
          id="search-input"
          class="home-search__input"
          type="text"
          name="destination"
          placeholder="Try: Paris, Tokyo, Costa Rica"
        />
        <button type="submit" class="home-search__button">Search</button>
      </form>
<div id="image-result"></div>

      <p class="home-search__note">
        Tip: Don’t forget to check the full forecast on the
        <a href="weather.html">Weather</a> page before you pack your bags.
      </p>
    </section>

    <!-- IMAGE RESULT SECTION -->
    <section class="search-result">
      <h3 class="search-result__title">Destination Preview</h3>
      <p class="search-result__hint">Search for a city or country to see a photo from that location.</p>
      <div class="search-result__image-wrap" id="search-result"></div>
      <p class="search-result__error" id="search-error" aria-live="polite"></p>
    </section>

  </main>

  <footer class="footer">
    <p class="footer__text">&copy; 2025 Vacation Weather Planner | Built by our team</p>
  </footer>

  <!-- JAVASCRIPT -->
  <script>
    // Nav menu toggle
    const toggleButton = document.querySelector('.nav__toggle');
    const navList = document.querySelector('.nav__list');
    if (toggleButton && navList) {
      toggleButton.addEventListener('click', () => {
        navList.classList.toggle('nav__list--active');
      });
    }

    // Unsplash API
    const UNSPLASH_ACCESS_KEY = "grlhFCXf2yuNuH0zRALAy7hwIh8K95wl3t-m-BRSy98";

    const searchForm = document.getElementById("destination-search");
    const searchInput = document.getElementById("search-input");
    const searchResult = document.getElementById("search-result");
    const searchError = document.getElementById("search-error");

    if (searchForm && searchInput) {
      searchForm.addEventListener("submit", async (event) => {
        event.preventDefault();

        const destination = searchInput.value.trim();
        searchError.textContent = "";
        searchResult.innerHTML = "";

        if (!destination) {
          searchError.textContent = "Please enter a destination.";
          return;
        }

        const url = `https://api.unsplash.com/search/photos?query=${encodeURIComponent(
          destination
        )}&per_page=1&orientation=landscape&client_id=${UNSPLASH_ACCESS_KEY}`;

        try {
          const response = await fetch(url);
          const data = await response.json();

          if (!data.results || data.results.length === 0) {
            searchError.textContent = `No images found for "${destination}".`;
            return;
          }

          const photo = data.results[0];
          const img = document.createElement("img");
          img.src = photo.urls.regular;
          img.alt = photo.alt_description || destination;

          searchResult.appendChild(img);

          // Save to localStorage (required by project)
          localStorage.setItem("lastDestinationImage", photo.urls.small);

        } catch (error) {
          console.error(error);
          searchError.textContent = "Error loading image. Try again.";
        }
      });
    }
  </script>
<script src="script.js"></script>

</body>
</html>
